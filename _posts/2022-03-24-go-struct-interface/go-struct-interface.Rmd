---
title: "Go Struct and Interface"
description: |
  Struct wrap things, Interface make a member-required function list

author:
  - name: Bo-Wei Chen
    url: https://BWbwchen.github.io/
date: 2021-08-07
output:
  distill::distill_article:
    toc: true
    toc_depth: 2
    self_contained: false
draft: false
creative_commons: CC BY
editor_options: 
  markdown: 
    wrap: 72
categories:
  - golang
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```


We can think of struct as a wrapper of object. You can also check [Golang spec (struct)](https://golang.org/ref/spec#Struct_types).
```golang
type TestStruct struct {
	Interger 			int
	String 				string
	Bool 				bool
	SomeWeirdInterface 	interface{}
	OtherStruct 		// we call it embedded field
}
type OtherStruct struct {
	Hello string
}
```

We use Interface to group a set of method. You can think it as a list that all structs that have implemented the required method. If you missing one of the method, you can not in that interface.

You can also check [Golang spec (interface)](https://golang.org/ref/spec#Interface_types).

```golang
type Human struct {
    name string
}

type Student struct {
    Human
    job string
}

type Worker struct {
    Human
    job string
    salary int 
}

func (h Human) Info() {
    fmt.Printf("I am %s\n", h.name)
}

func (s Student) Info () {
    fmt.Printf("I am %s. I am a %s.\n", s.name, s.job)
}
func (w Worker) Info () {
    fmt.Printf("I am %s. I am a %s. I have %d salary\n", w.name, w.job, w.salary)
}

type Person interface {
    Info()
}
```

with main function :
```golang
func main() {
    Tom := Student{Human{"Tom"}, "student"}
    Ben := Worker{Human{"Ben"}, "worker", 1000}
    Susan := Human{"Susan"}

    Tom.Info()
    Ben.Info()
    Susan.Info()

    var i Person

    // Becaus Student and Worker and Human all have implemented Info method
    i = Tom
    i.Info()

    i = Ben
    i.Info()

    i = Susan
    i.Info()
}
```
We can see that Student, Worker, Human all have implemented the Info method, so the variabe i with type person interface will work well.
```
I am Tom. I am a student.
I am Ben. I am a worker. I have 1000 salary
I am Susan
I am Tom. I am a student.
I am Ben. I am a worker. I have 1000 salary
I am Susan
```

But what if I change the Human method to Hi() ?
```
cannot use Susan (type Human) as type Person in assignment:
        Human does not implement Person (missing Info method)
```
